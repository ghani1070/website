<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>üêº Game Matematika - Kung Fu Panda</title>

<style>
body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background: linear-gradient(135deg,#ffcc80,#ff8a65);
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
}

.game-box{
    background:#fff;
    width:360px;
    padding:25px;
    border-radius:18px;
    box-shadow:0 20px 40px rgba(0,0,0,.25);
    text-align:center;
}

h1{
    margin-top:0;
}

.soal{
    font-size:28px;
    font-weight:bold;
    margin:20px 0;
}

input{
    width:100%;
    padding:12px;
    font-size:18px;
    border-radius:8px;
    border:1px solid #ccc;
    margin-bottom:12px;
}

button{
    width:100%;
    padding:12px;
    font-size:18px;
    border:none;
    border-radius:10px;
    background:#ff7043;
    color:white;
    cursor:pointer;
}

button:hover{
    background:#ff5722;
}

.info{
    margin-top:15px;
    font-size:14px;
}

#cara{
    margin-top:15px;
    background:#f7f7f7;
    padding:12px;
    border-radius:10px;
    text-align:left;
    font-size:14px;
    display:none;
}

.benar{color:green;font-weight:bold;}
.salah{color:red;font-weight:bold;}
</style>
</head>

<body>

<div class="game-box">
    <h1>üß† Game Matematika</h1>

    <div id="soal" class="soal">1 √ó 2 = ?</div>

    <input type="number" id="jawaban" placeholder="Jawaban">

    <button onclick="cekJawaban()">Jawab</button>

    <div class="info">
        ‚è± Waktu: <span id="waktu">60</span> detik ( 1 menit )<br>
        ‚≠ê Skor: <span id="skor">0</span><br>
        üéØ Level: <span id="level">1</span>
    </div>

    <div id="status"></div>

    <div id="cara"></div>
</div>
<script>
let angka1, angka2, hasil;
let skor = 0;
let level = 1;

// SETTING WAKTU
const WAKTU_SOAL = 60;       // 60 detik mengerjakan
const WAKTU_CARA = 12;      // 12 detik lihat cara

let waktu = WAKTU_SOAL;
let timerSoal;
let timerCara;

// =====================
// BUAT SOAL BARU
// =====================
function buatSoal(){
    document.getElementById("jawaban").value = "";
    document.getElementById("status").innerHTML = "";
    document.getElementById("cara").style.display = "none";

    angka1 = Math.floor(Math.random() * 5) + 1;
    angka2 = Math.floor(Math.random() * 5) + 1;
    hasil  = angka1 * angka2;

    document.getElementById("soal").innerText =
        `${angka1} √ó ${angka2} = ?`;

    mulaiTimerSoal();
}

// =====================
// TIMER SOAL (60 DETIK)
// =====================
function mulaiTimerSoal(){
    clearInterval(timerSoal);
    waktu = WAKTU_SOAL;
    document.getElementById("waktu").innerText = waktu;

    timerSoal = setInterval(() => {
        waktu--;
        document.getElementById("waktu").innerText = waktu;

        if(waktu <= 0){
            clearInterval(timerSoal);
            document.getElementById("status").innerHTML =
                "<p class='salah'>‚è∞ Waktu Habis</p>";
            tampilkanCara();
        }
    }, 1000);
}

// =====================
// CEK JAWABAN
// =====================
function cekJawaban(){
    clearInterval(timerSoal);

    let jawab = parseInt(document.getElementById("jawaban").value);

    if(jawab === hasil){
        skor += 10;
        document.getElementById("status").innerHTML =
            "<p class='benar'>‚úî Jawaban Benar</p>";
    } else {
        document.getElementById("status").innerHTML =
            "<p class='salah'>‚úñ Jawaban Salah</p>";
    }

    document.getElementById("skor").innerText = skor;

    if(skor % 50 === 0){
        level++;
        document.getElementById("level").innerText = level;
    }

    tampilkanCara();
}

// =====================
// TAMPILKAN CARA (12 DETIK)
// =====================
function tampilkanCara(){
    let langkah = [];
    langkah.push("<b>Contoh cara mengerjakan:</b>");
    langkah.push(`${angka1} √ó ${angka2} = ?`);

    let penjumlahan = [];
    for(let i = 0; i < angka2; i++){
        penjumlahan.push(angka1);
    }

    langkah.push(`${angka1} √ó ${angka2} = ${penjumlahan.join(" + ")}`);
    langkah.push(`${penjumlahan.join(" + ")} = ${hasil}`);
    langkah.push(`<b>Hasil = ${hasil}</b>`);
    langkah.push(`<br><i>Soal berikutnya dalam <span id="timerCara">${WAKTU_CARA}</span> detik</i>`);

    const caraDiv = document.getElementById("cara");
    caraDiv.innerHTML = langkah.join("<br>");
    caraDiv.style.display = "block";

    let sisa = WAKTU_CARA;
    clearInterval(timerCara);

    timerCara = setInterval(() => {
        sisa--;
        document.getElementById("timerCara").innerText = sisa;

        if(sisa <= 0){
            clearInterval(timerCara);
            buatSoal();
        }
    }, 1000);
}

// =====================
buatSoal();
// =====================
</script>
</body>
</html>